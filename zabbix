Linuxç³»ç»ŸRHEL7æºç ç¼–è¯‘å®‰è£…Zabbix6

@[TOC](æ–‡ç« ç›®å½•)
# å‰è¨€
<font color=#999AAA >
æœ€è¿‘å®¢æˆ·é¡¹ç›®è¦æ±‚ï¼Œæœ¬æ–‡åŸºäºLinuxç³»ç»ŸRHEL7æºç ç¼–è¯‘å®‰è£…Zabbix6ï¼Œè¯¦ç»†çš„éƒ¨ç½²åˆ†äº«ç»™å¤§å®¶
<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">


## ğŸ“¢ 1.ç¯å¢ƒå‡†å¤‡

```bash
1.æºç åŒ…ä¸‹è½½
ä¸‹è½½åœ°å€ï¼šhttps://cdn.zabbix.com/zabbix/sources/stable/6.2/zabbix-6.2.2.tar.gz

2.å…³é—­é˜²ç«å¢™å’Œ selinux å¹¶é‡å¯
å¦‚æœselinuxæ²¡æœ‰å…³é—­æ‰§è¡Œï¼š
[root@localhost ~]# sed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config

[root@localhost ~]# systemctl disable --now firewalld
Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.
Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.

[root@localhost ~]# systemctl status firewalld
   

3.hostnameè®¾ç½®
[root@localhost ~]# cat /etc/redhat-release
Red Hat Enterprise Linux Server release 7.4 (Maipo)

[root@localhost ~]# hostnamectl set-hostname jeames


4.HOSTè§£æ
[root@jeames ~]# vi /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
## æ·»åŠ ä»¥ä¸‹å†…å®¹
192.168.1.30 jeames
```


## ğŸ“¢ 2 é…ç½®æœ¬åœ°yum

```bash
æœ¬æ¬¡æˆ‘ä»¬è¿ç”¨æŒ‚è½½æœ¬åœ°å…‰ç›˜é•œåƒçš„æ–¹æ³•
1.åˆ›å»ºæŒ‚è½½ç›®å½•
[root@jeames ~]# df -TH
Filesystem            Type      Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root xfs        19G  4.0G   15G  22% /
devtmpfs              devtmpfs  2.0G     0  2.0G   0% /dev
tmpfs                 tmpfs     2.0G     0  2.0G   0% /dev/shm
tmpfs                 tmpfs     2.0G  9.6M  2.0G   1% /run
tmpfs                 tmpfs     2.0G     0  2.0G   0% /sys/fs/cgroup
/dev/sda1             xfs       1.1G  187M  877M  18% /boot
tmpfs                 tmpfs     396M   25k  396M   1% /run/user/0
tmpfs                 tmpfs     396M  8.2k  396M   1% /run/user/42
/dev/sr0              iso9660   4.1G  4.1G     0 100% /run/media/root/RHEL-7.4 Server.x86_64

[root@jeames ~]# mkdir -p /mnt/dvd/

2.æŒ‚è½½å…‰ç›˜åˆ°ç›®å½•
[root@rhel76 ~]# mount /dev/sr0 /mnt/dvd
mount: /dev/sr0 is write-protected, mounting read-only

3.å°†RHEL7çš„yumæ›¿æ¢ä¸ºCentosçš„æº
## æŸ¥è¯¢åŸæœ‰rpmåŒ…
[root@jeames ~]# rpm -qa | grep yum
PackageKit-yum-1.1.5-1.el7.x86_64
yum-3.4.3-154.el7.noarch
yum-rhn-plugin-2.0.1-9.el7.noarch
yum-utils-1.1.31-42.el7.noarch
yum-metadata-parser-1.1.4-10.el7.x86_64
yum-langpacks-0.4.2-7.el7.noarch

## åˆ é™¤åŸæœ‰çš„yumæº
[root@jeames ~]# rpm -qa|grep yum|xargs rpm -e --nodeps

## CentOS yumæºé…ç½®
[root@jeames /]# cp /etc/yum.repos.d/redhat.repo /etc/yum.repos.d/redhat.repo.bak
cat >> /etc/yum.repos.d/CentOS.repo << "EOF"
[rhel7]
name=jemrepo
baseurl=file:///mnt/dvd/
gpgcheck=0
EOF

[root@jeames /]# yum repolist

## å®‰è£…Centos7 yumæ‰€éœ€çš„æ‰€æœ‰rpmåŒ…
[root@jeames ~]# rpm -ivh yum-3.4.3-168.el7.centos.noarch.rpm --nodeps
[root@jeames ~]# rpm -ivh yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch.rpm --nodeps
[root@jeames ~]# rpm -ivh yum-metadata-parser-1.1.4-10.el7.x86_64.rpm

[root@jeames /]# rpm -qa | grep yum
yum-3.4.3-168.el7.centos.noarch
yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch
yum-metadata-parser-1.1.4-10.el7.x86_64
```
## ğŸ“¢ 3 æºç ç¼–è¯‘Server

```bash
1.å®‰è£…ä¾èµ–
[root@jeames /]# yum install -y libevent-devel net-snmp-devel
[root@jeames /]# yum install libxml2 libxml2-devel -y
[root@jeames /]# yum -y install unixODBC unixODBC-devel
[root@jeames /]# yum -y install curl-devel
[root@jeames ~]# yum install openssl-devel pcre-devel libssh2-devel OpenIPMI-devel  openldap-devel
[root@jeames /]# yum -y install gcc gcc-c++
[root@jeames /]# gcc -v
[root@jeames ~]# yum -y install mysql-devel

2.åˆ›å»ºç”¨æˆ·ç»„ç­‰ï¼Œæˆæƒ
[root@jeames /]# groupadd --system zabbix
[root@jeames /]# useradd --system -g zabbix -d /usr/lib/zabbix -s /sbin/nologin -c "Zabbix Monitoring System" zabbix

3.è§£å‹æºç åŒ…
[root@jeames ~]# tar -zxvf zabbix-6.2.2.tar.gz

4.ç¼–è¯‘å®‰è£…
æ³¨æ„ä»¥ä¸‹éƒ½æ˜¯åœ¨zabbixçš„å®‰è£…ç›®å½•ä¸‹æ‰§è¡Œ
[root@jeames /]# cd zabbix-6.2.2
[root@jeames /]# ./configure --enable-server --enable-agent --with-mysql \
--enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2 --with-openipmi --with-unixodbc
æœ€åç¼–è¯‘
[zabbix@jeames zabbix-6.2.2]# make install
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5365c2c951f14cf19f550bae375124dc.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/04358b2d205a4bf78581dff9d74a7a48.png)
## ğŸ“¢ 4 ç¼–è¯‘å®‰è£…PHP

```bash
# å®˜ç½‘åœ°å€ 
https://www.php.net/downloads


# å®‰è£…ç®€å•ä¾èµ–
yum remove php* -y
yum install autoconf automake libtool sqlite-devel libjpeg-devel libpng-devel freetype-devel -y


[root@jeames ~]# tar xf php-7.4.9.tar.gz
[root@jeames ~]# useradd -s /sbin/nologin -M php
[root@jeames ~]# cd php-7.4.9

## è®°å¾—å¯¼å…¥ç¯å¢ƒå˜é‡
export PKG_CONFIG_PATH="/usr/local/lib/pkgconfig/"

./configure --prefix=/usr/local/php7 --with-config-file-path=/usr/local/php7/etc --with-mhash --with-openssl --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-zlib --enable-bcmath  --enable-gd --with-freetype  --enable-mbstring --enable-ftp --enable-sockets   --with-gettext --enable-session --with-curl  --enable-fpm --with-fpm-user=php --with-fpm-group=php  \
--enable-pdo -enable-tokenizer --with-zip --with-jpeg

## ç¼–è¯‘ï¼Œè¿™ä¸ªæ—¶é—´æ¯”è¾ƒé•¿
make -j4 && make install
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e69b4a55f60f423f9faa7ba300144c65.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e3f8c5d5bff946888c807217d229b41f.png)

```bash
#é…ç½®æ–‡ä»¶æ”¹å
cd /usr/local/php7/etc/
cp php-fpm.conf.default php-fpm.conf
cp php-fpm.d/www.conf.default php-fpm.d/www.conf
#phpå‘½ä»¤è®¾ç½®è½¯é“¾æ¥
ln -s /usr/local/php7/bin/* /usr/local/bin
ln -s /usr/local/php7/sbin/* /usr/local/sbin
#æŸ¥çœ‹phpçš„ç‰ˆæœ¬
[root@jeames etc]# php -v
PHP 7.4.9 (cli) (built: Sep 17 2022 23:51:00) ( NTS )
Copyright (c) The PHP Group
Zend Engine v3.4.0, Copyright (c) Zend Technologies

#æ€æ­»å½“å‰phpè¿›ç¨‹ï¼Œé‡å¯
killall php-fpm
php-fpm
netstat -antp | grep php-fpm
tail -f /usr/local/php7/var/log/php-fpm.log
netstat -tln | grep 9000
netstat -tln | grep 80

#å®‰è£…ldapæ‰©å±•æ¨¡å—
[root@jeames ~]# cd /root/php-7.4.9/ext/ldap
[root@jeames ldap]# find / -name phpize
/root/php-7.4.9/scripts/phpize
/usr/local/bin/phpize

#è¿è¡Œphpize
[root@jeames ldap]# /usr/local/php7/bin/phpize
Configuring for:
PHP Api Version:         20190902
Zend Module Api No:      20190902
Zend Extension Api No:   320190902

#å¤åˆ¶åº“æ–‡ä»¶
cp -frp /usr/lib64/libldap* /usr/lib/

#å®‰è£…è‡³/usr/local/php7/bin/php-config
[root@jeames ldap]# ./configure --with-php-config=/usr/local/php7/bin/php-config

#ç¼–è¯‘å®‰è£…
[root@jeames ldap]#  make && make install

#ä¿®æ”¹å‚æ•°
cd /root/php-7.4.9
cp php.ini-production /usr/local/php7/etc/php.ini

vim /usr/local/php7/etc/php.ini

extension_dir = "/usr/local/php7/lib/php/extensions/no-debug-non-zts-20190902/"
extension=ldap.so

max_execution_time = 300
post_max_size = 16M
max_input_time = 300
date.timezone = Asia/Shanghai  
```

## ğŸ“¢ 5 åˆ›å»ºåˆå§‹æ•°æ®åº“
MySQLæ•°æ®åº“ç”¨æ¥ç»™ Zabbix Serverï¼Œæä¾›æ•°æ®å­˜å‚¨ï¼Œæœ¬æ¬¡é‡‡ç”¨äºŒè¿›åˆ¶åŒ…å®‰è£…MySQL8.0

### âœ¨ 5.1 å®‰è£MySQL8
```bash
1. å¸è½½MariaDBï¼Œé¿å…mariadbå’Œmysqlæ•°æ®åº“å†²çª
[root@jeames zabbix-6.2.2]# rpm -qa |grep mariadb
mariadb-devel-5.5.56-2.el7.x86_64
mariadb-libs-5.5.56-2.el7.x86_64

[root@jeames zabbix-6.2.2]# rpm -e --nodeps mariadb-libs-5.5.56-2.el7.x86_64
[root@jeames zabbix-6.2.2]# rpm -e --nodeps mariadb-devel-5.5.56-2.el7.x86_64

2.ç”¨æˆ·åŠç›®å½•åˆ›å»º
root ç”¨æˆ·æ“ä½œï¼š
mkdir -p /mysql/data/mysql3306
mkdir -p /mysql/app/
mkdir -p /mysql/conf/
mkdir -p /mysql/data/mysql3306/pid/
mkdir -p /mysql/data/mysql3306/socket/
mkdir -p /mysql/data/mysql3306/log/
mkdir -p /mysql/data/mysql3306/binlog/
mkdir -p /mysql/data/mysql3306/errlog
mkdir -p /mysql/data/mysql3306/relaylog/
mkdir -p /mysql/data/mysql3306/slowlog/
mkdir -p /mysql/data/mysql3306/tmp/


3.ç”¨æˆ·åŠç»„
[root@jeames ~]# groupadd mysql
[root@jeames ~]# useradd -g mysql mysql
[root@jeames ~]# chown -R mysql:mysql /mysql
[root@jeames ~]# chmod 775 -R /mysql

userdel -r mysql   --åˆ é™¤ lamp ç”¨æˆ·
groupdel mysql --åˆ é™¤ç»„users


#ä¸Šä¼ è½¯ä»¶åŒ…å¹¶è§£å‹
[root@jeames ~]# cp mysql-8.0.27-linux-glibc2.12-x86_64.tar.xz /mysql/app
[root@jeames ~]# chown -R mysql:mysql /mysql
[root@jeames ~]# chmod 775 -R /mysql


4.mysqlç”¨æˆ·æ“ä½œ
[root@jeames ~]# su - mysql
[mysql@jeames ~]$ cd /mysql/app
## è§£å‹è½¯ä»¶åŒ…å¹¶é‡å‘½å
[mysql@jeames app]$ tar xvf mysql-8.0.27-linux-glibc2.12-x86_64.tar.xz
[mysql@jeames app]$ mv mysql-8.0.27-linux-glibc2.12-x86_64 mysql8.0.27

##ç¯å¢ƒå˜é‡é…ç½®
cat >> /home/mysql/.bash_profile << "EOF"
MYSQL_HOME=/mysql/app/mysql8.0.27
PATH=$PATH:$MYSQL_HOME/bin
EOF

[mysql@jeames app]$ source ~/.bash_profile
[mysql@jeames app]$ which mysql
/mysql/app/mysql8.0.27/bin/mysql

## åˆ›å»ºå‚æ•°æ–‡ä»¶
cat >> /mysql/conf/my3306.cnf << "EOF"
[mysqld]
server_id = 80273306
default-storage-engine= InnoDB
basedir=/mysql/app/mysql8.0.27
datadir=/mysql/data/mysql3306/data/
socket=/tmp/mysql.sock
log-error=/mysql/data/mysql3306/log/mysqld.log
pid-file=/mysql/data/mysql3306/pid/mysqld.pid
port=3306
default-time_zone='+8:00'
default_authentication_plugin=mysql_native_password # åŠ æ­¤å‚æ•°å¯è¿œç¨‹ç™»é™†
transaction_isolation=READ-COMMITTED
max_connections=1500
back_log=500
wait_timeout=1800
max_user_connections=800
innodb_buffer_pool_size=1024M
innodb_log_file_size=512M
innodb_log_buffer_size=40M
slow_query_log=ON
long_query_time=5
# log settings #
slow_query_log = ON
slow_query_log_file = /mysql/data/mysql3306/slowlog/slow3306.log
log_error = /mysql/data/mysql3306/errlog/err3306.log
log_error_verbosity = 3
log_bin = /mysql/data/mysql3306/binlog/mysql_bin
log_bin_index = /mysql/data/mysql3306/binlog/mysql_binlog.index
general_log_file = /data/mysql/mysql3306/generallog/general.log
log_queries_not_using_indexes = 1
log_slow_admin_statements = 1
expire_logs_days = 90
binlog_expire_logs_seconds = 2592000      #30d
long_query_time = 2
min_examined_row_limit = 100
log_throttle_queries_not_using_indexes = 1000
innodb_flush_log_at_trx_commit=1
log_bin_trust_function_creators=1

EOF

5.æ•°æ®åº“åˆå§‹åŒ–
mysqlç”¨æˆ·æ“ä½œï¼š
mysqld --defaults-file=/mysql/conf/my3306.cnf --initialize --user=mysql --basedir=/mysql/app/mysql8.0.27 \
--datadir=/mysql/data/mysql3306/data/

## å¯åŠ¨Mysql
[mysql@jeames ~]$ mysqld_safe --defaults-file=/mysql/conf/my3306.cnf --user=mysql &
[1] 46477
[mysql@jeames ~]$ 2022-09-17T11:34:40.938667Z mysqld_safe Logging to '/mysql/data/mysql3306/errlog/err3306.log'.
2022-09-17T11:34:40.974295Z mysqld_safe Starting mysqld daemon with databases from /mysql/data/mysql3306/data
```

### âœ¨ 5.2 åˆ›å»ºç”¨æˆ·é…ç½®å‚æ•°

```bash
1.ç™»é™†MySQL
ç¬¬ä¸€æ¬¡ç™»å½• MySQL æ—¶ï¼Œéœ€è¦åˆ°é”™è¯¯æ—¥å¿—ä¸‹æ‰¾åˆå§‹åŒ–å¯†ç 
[mysql@jeames ~]$ cat /mysql/data/mysql3306/errlog/err3306.log | grep password
æ­¤å¤„é€šè¿‡sockç™»é™†
[mysql@jeames ~]$ mysql -uroot -p  -P 3306 -S /tmp/mysql.sock
mysql> alter user root@'localhost' identified by 'root';
mysql> flush privileges
mysql> status
--------------
mysql  Ver 8.0.27 for Linux on x86_64 (MySQL Community Server - GPL)

Connection id:          8
Current database:
Current user:           root@localhost
SSL:                    Not in use
Current pager:          stdout
Using outfile:          ''
Using delimiter:        ;
Server version:         8.0.27
Protocol version:       10
Connection:             Localhost via UNIX socket
Server characterset:    utf8mb4
Db     characterset:    utf8mb4
Client characterset:    utf8mb4
Conn.  characterset:    utf8mb4
UNIX socket:            /mysql/data/mysql3306/socket/mysql.sock
Binary data as:         Hexadecimal
Uptime:                 3 min 56 sec

Threads: 2  Questions: 8  Slow queries: 0  Opens: 399  Flush tables: 3  Open tables: 37  Queries per second avg: 0.033


2.æ–°å¢ç”¨æˆ¶
mysql> create database zabbix character set utf8mb4 collate utf8mb4_bin;
mysql> create user zabbix@localhost identified by 'Jeames@007';
mysql> grant all privileges on zabbix.* to zabbix@localhost;
mysql> set global log_bin_trust_function_creators = 1;
mysql> flush privileges;
mysql> quit;
```

### âœ¨ 5.3 å¯¼å…¥åˆå§‹æ¶æ„å’Œæ•°æ®

```bash
[root@jeames ~]# chmod -R 777 zabbix-6.0.8
[root@jeames ~]# chown -R mysql:mysql zabbix-6.0.8

[root@jeames mysql]# cp data.sql images.sql schema.sql /home/mysql
[root@jeames mysql]# pwd
/root/zabbix-6.0.8/database/mysql

[mysql@jeames ~]$ mysql -uroot -p
mysql> show databases;
mysql> use zabbix;

mysql> source schema.sql
mysql> source images.sql
mysql> source data.sql

mysql> SELECT COUNT(*) TABLES, table_schema FROM information_schema.TABLES 
    -> WHERE table_schema = 'zabbix';
+--------+--------------+
| TABLES | TABLE_SCHEMA |
+--------+--------------+
|    173 | zabbix       |
+--------+--------------+
1 row in set (0.00 sec)
```
### âœ¨ 5.4 Zabbix serveré…ç½®æ•°æ®åº“

```bash
ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ç›®å½•åœ¨/usr/local/etc
#è¿™ä¸ªè¦è¾“å…¥çš„å¯†ç å°±æ˜¯åœ¨MySQLä¸­åˆ›å»ºzabbixæ•°æ®é…ç½®çš„å¯†ç 
DBPassword=Jeames@007

å¿«æ·çš„æ–¹æ³•ç”¨ä»¥ä¸‹å‘½ä»¤
[root@jeames ~]# sed -ri.bak '/# DBPassword=/cDBPassword=Jeames@007' /usr/local/etc/zabbix_server.conf
[root@jeames ~]# more /usr/local/etc/zabbix_server.conf | grep DBPassword
### Option: DBPassword
DBPassword=Jeames@007
#       This option can only be used if DBUser and DBPassword are not specified.


é…ç½®æ–‡ä»¶è¯´æ˜ï¼š
DBHost=192.168.1.30      #ä½ å®‰è£…æ•°æ®åº“çš„æœºå™¨ip
DBName=zabbix            #ä½ å®‰è£…æ•°æ®åº“çš„zabbixåº“
DBUser=zabbix            #ä½ å®‰è£…æ•°æ®åº“çš„zabbixç”¨æˆ·
DBPassword=zabbix        #ä½ å®‰è£…æ•°æ®åº“çš„zabbixç”¨æˆ·å¯†ç 

[root@jeames ~]# vi /usr/local/etc/zabbix_server.conf
##ä»¥ä¸‹æ˜¯socketè·¯å¾„,éœ€è¦æ³¨æ„
SocketDir=/tmp
DBSocket=/tmp/mysql.sock
```

## ğŸ“¢ 6 å®‰è£…Web interface

```bash
1.é¦–å…ˆè¦å®‰è£…æœåŠ¡
yum -y install httpd

é…ç½®æ–‡ä»¶æ˜¯
/etc/httpd/conf/httpd.conf
/var/www/html

2.è®¾ç½®å¼€æœºè‡ªå¯åŠ¨
systemctl daemon-reload
systemctl enable httpd.service
systemctl start httpd.service

## å¤åˆ¶
[root@jeames ~]# cd /var/www/html
[root@jeames html]# mkdir zabbix
[root@jeames ~]# cd zabbix-6.2.2/ui
[root@jeames ~]# cp * -r /var/www/html/zabbix

[root@jeames ~]# systemctl restart httpd.service


#è®¿é—®æˆæƒzabbix
chmod -R 755 /var/www/html/zabbix/

æµè§ˆå™¨ï¼šhttp://192.168.1.30/zabbix/setup.php

3 é‡å¯PHP
killall php-fpm
php-fpm
netstat -antp | grep php-fpm
tail -f /usr/local/php7/var/log/php-fpm.log
netstat -tln | grep 9000
netstat -tln | grep 80


4.é…ç½®Apacheè§£æPHPæ–‡ä»¶
#é…ç½®Apacheè§£æPHP
vim /etc/httpd/conf.d/php-fpm.conf
<FilesMatch \.php$>
        SetHandler "proxy:fcgi://127.0.0.1:9000"
</FilesMatch>


5.UIç•Œé¢ï¼ˆå›¾å½¢åŒ–åŠ è½½ï¼‰
[root@jeames php-fpm.d]# chown apache:apache /var/www/html -R
[root@jeames php-fpm.d]# service httpd restart

http://192.168.1.30/zabbix/setup.php
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/80553ca5ff694f3bb8f5ca5504d28306.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5b02ffd195bc495395ec1d71c02bc7e3.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d656dbe00a6f4d5fa0098a64900087f4.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a36a72573d0d461fa69d95935e4aef66.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/0a08447a05ef49f4a6893e5a9c6931b6.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ef8ac14bd41347a2a652ac22463fb97e.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/11d5cdf8ad134989ae1530723f83c968.png)
## ğŸ“¢ 7 å¯åŠ¨Zabbixç›¸å…³è¿›ç¨‹

```bash
[root@jeames ~]# which zabbix_server
/usr/local/sbin/zabbix_server
[root@jeames ~]# which zabbix_agentd
/usr/local/sbin/zabbix_agentd

1.å¯åŠ¨Zabbix serverå’Œagentè¿›ç¨‹
[root@jeames ~]# zabbix_server
[root@jeames ~]# ps -ef |grep zabbix
zabbix    48658      1  0 20:54 ?        00:00:00 zabbix_server
zabbix    48663      1  0 20:55 ?        00:00:00 zabbix_agentd
zabbix    48664  48663  0 20:55 ?        00:00:00 zabbix_agentd: collector [idle 1 sec]
zabbix    48665  48663  0 20:55 ?        00:00:00 zabbix_agentd: listener #1 [waiting for connection]
zabbix    48666  48663  0 20:55 ?        00:00:00 zabbix_agentd: listener #2 [waiting for connection]
zabbix    48667  48663  0 20:55 ?        00:00:00 zabbix_agentd: listener #3 [waiting for connection]
zabbix    48668  48663  0 20:55 ?        00:00:00 zabbix_agentd: active checks #1 [idle 1 sec]
root      48682  46377  0 20:56 pts/1    00:00:00 grep --color=auto zabbix

[root@jeames ~]# zabbix_agentd
[root@jeames ~]# ps -ef | grep zabbix_agentd
zabbix    48663      1  0 20:55 ?        00:00:00 zabbix_agentd
zabbix    48664  48663  0 20:55 ?        00:00:00 zabbix_agentd: collector [idle 1 sec]
zabbix    48665  48663  0 20:55 ?        00:00:00 zabbix_agentd: listener #1 [waiting for connection]
zabbix    48666  48663  0 20:55 ?        00:00:00 zabbix_agentd: listener #2 [waiting for connection]
zabbix    48667  48663  0 20:55 ?        00:00:00 zabbix_agentd: listener #3 [waiting for connection]
zabbix    48668  48663  0 20:55 ?        00:00:00 zabbix_agentd: active checks #1 [idle 1 sec]
root      48692  46377  0 20:57 pts/1    00:00:00 grep --color=auto zabbix_agentd

[root@jeames ~]# netstat -antp | grep zabbix
tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      48663/zabbix_agentd 
tcp6       0      0 :::10050                :::*                    LISTEN      48663/zabbix_agentd

#æŸ¥çœ‹è¿è¡Œæ—¥è®°
find / -name zabbix_server.log
tail -f /tmp/zabbix_server.log
```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2ea9c5732efe4ce9a2ae0b9783d56dac.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e37a2fad285741788129e19218f87e69.gif#pic_center)
